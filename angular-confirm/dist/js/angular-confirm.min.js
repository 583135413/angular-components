angular.module("ui.confirm",["ui.bootstrap.modal"]).controller("ConfirmModalController",["$scope","$uibModalInstance","data",function(n,o,a){n.data=angular.copy(a),n.ok=function(n){o.close(n)},n.cancel=function(n){angular.isUndefined(n)&&(n="cancel"),o.dismiss(n)}}]).value("$confirmModalDefaults",{size:"md",windowClass:"modal-confirm",template:function(){var n='<div class="modal-header" ng-show="data.confirmTitle"><h3 class="modal-title">{{data.confirmTitle}}</h3></div>',o='<div class="modal-body"><span class="icon-warning-sign icon"></span><span class="text">{{data.text}}</span></div>',a='<div class="modal-footer"><button class="btn btn-{{data.confirmOkColor}}" ng-show="data.confirmOk" ng-click="ok()"><span class="icon icon-ok"></span>{{data.confirmOk}}</button><button class="btn btn-{{data.confirmCancelColor}}" ng-show="data.confirmCancel" ng-click="cancel()"><span class="icon icon-reply"></span>{{data.confirmCancel}}</button></div>';return n+o+a},controller:"ConfirmModalController",defaultLabels:{confirmOkColor:"primary",confirmTitle:"确认",confirmOk:"确定",confirmCancelColor:"default"}}).factory("$confirm",["$uibModal","$confirmModalDefaults",function(n,o){return function(a,c){var i=angular.copy(o);return c=angular.extend(i,c||{}),a=angular.extend({},c.defaultLabels,a||{}),c.resolve={data:function(){return a}},n.open(c).result}}]).directive("confirm",["$confirm",function(n){return{priority:1,restrict:"A",scope:{ngClick:"&",confirm:"@",confirmSettings:"=",confirmTitle:"@",confirmOk:"@",confirmOkColor:"@",confirmCancel:"@",confirmCancelColor:"@"},link:function(o,a,c){a.unbind("click").bind("click",function(a){a.preventDefault();var c={text:o.confirm,confirmTitle:o.confirmTitle,confirmOk:o.confirmOk,confirmCancel:o.confirmCancel||!1,confirmOkColor:o.confirmOkColor||"primary",confirmCancelColor:o.confirmCancelColor||"default"};n(c,angular.extend({},o.confirmSettings)).then(o.ngClick)})}}}]);