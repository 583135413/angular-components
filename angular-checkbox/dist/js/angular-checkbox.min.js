angular.module("ui.checkbox",[]).directive("angularCheckbox",["$timeout",function($timeout){return{restrict:"EA",require:"?ngModel",replace:!0,scope:{value:"=ngModel",text:"@checkText",onCheck:"&"},template:'<span class="angular-checkbox"><i class="icon" ng-class="{true: \'icon-check\', false: \'icon-check-empty\'}[check]" ng-click="change()"></i><span class="text" ng-bind="text" ng-click="change()"></span></span>',link:function(scope,element,attr,ngModel){ngModel&&(scope.value="undefined"==typeof scope.value?eval(attr.defaultValue):scope.value,attr.targetValue=eval(attr.targetValue),attr.defaultValue=eval(attr.defaultValue),ngModel.$formatters.push(function(value){return scope.check=eval(scope.value)==attr.targetValue,value}),scope.change=function(){attr.disabled||(eval(ngModel.$modelValue)===attr.defaultValue?(scope.value=attr.targetValue,scope.check=!0):(scope.value=attr.defaultValue,scope.check=!1),$timeout(function(){scope.onCheck()}))})}}}]);