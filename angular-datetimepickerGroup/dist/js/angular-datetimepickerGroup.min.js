angular.module("ui.datetimepickerGroup",["ui.datetimepicker"]).directive("datetimepickerGroup",["dateTimeFactory",function(e){return{restrict:"EA",scope:{options:"=",startTime:"=",endTime:"="},template:'<input type="text" class="form-control" ng-model="startTime" datetimepicker options="options" placeholder="{{::startTimePlaceholder}}" ng-focus="showStartTime()" name="{{::startName}}" /><label class="angular-datetimepicker-groupline">-</label><input type="text" class="form-control" ng-model="endTime" datetimepicker options="options" placeholder="{{::endTimePlaceholder}}" ng-focus="showEndTime()" name="{{::endName}}" />',link:function(t,i,r){var a=t.options||{};t.startTimePlaceholder=r.startTimePlaceholder||"请选择开始时间",t.endTimePlaceholder=r.endTimePlaceholder||"请选择结束时间",t.startName=r.startName||"",t.endName=r.endName||"";var m=i.find("[datetimepicker]");a.readOnly===!1?m.removeAttr("readOnly"):m.attr("readOnly","readOnly"),a.required===!0?m.attr("required","required"):m.removeAttr("required"),a.disabled===!0?m.attr("disabled","disabled"):m.removeAttr("disabled");var n=a.limitOutTime,d=angular.copy(a.limitStartTime),o=angular.copy(a.limitEndTime);t.showStartTime=function(){if(n){var i=t.endTime;i&&(a.limitEndTime=i)}if(o){var i=t.endTime;i&&(a.limitEndTime="undefined"!=typeof o&&e.newDate(o).getTime()<e.newDate(i).getTime()?o:i)}a.limitStartTime=d},t.showEndTime=function(){if(n){var i=t.startTime;i&&(a.limitStartTime=i)}if(d){var i=t.startTime;i&&(a.limitStartTime="undefined"!=typeof d&&e.newDate(d).getTime()>e.newDate(i).getTime()?d:i)}a.limitEndTime=o},a.removeDatetimepicker=function(){m.datetimepicker("remove")}}}}]);