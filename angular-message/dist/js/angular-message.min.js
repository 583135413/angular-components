angular.module("ui.message",[]).factory("$messageFactory",[function(){var e,s,a={},i=[{type:"success",icon:"icon-ok"},{type:"error",icon:"icon-exclamation-sign"},{type:"loading",icon:"icon-refresh icon-spin"},{type:"warning",icon:"icon-warning-sign"}];return a.removeMessage=function(){$("#ui-message-mask-"+s).remove(),$("#ui-message-"+s).remove()},a.slideUpMessage=function(){var e=this,a=$("#ui-message-"+s);a.animate({top:-a.outerHeight()},200,"swing",function(){e.removeMessage()})},a.popMessage=function(a){var n=this;if(this.removeMessage(),s=(new Date).getTime(),a.mask){var t=angular.element("<div class='ui-message-mask' id='ui-message-mask-"+s+"'></div>");t.css("z-index",s),angular.element(document.body).append(t)}var o='<span class="icon '+i[a.type||0].icon+'"></span>',c=angular.element("<div class='ui-message' id='ui-message-"+s+"'>"+o+a.message+"</div>");angular.element(document.body).append(c),$(c).css({"z-index":(new Date).getTime(),marginLeft:-$(c).outerWidth()/2}).addClass(i[a.type||0].type),a.time&&(clearTimeout(e),e=setTimeout(function(){angular.isFunction(a.callback)&&a.callback(),n.slideUpMessage(),clearTimeout(e)},a.time))},a}]);