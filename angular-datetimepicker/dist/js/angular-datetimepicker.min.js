angular.module("ui.datetimepicker",[]).directive("datetimepicker",[function(){return{restrict:"EA",require:"ngModel",scope:{options:"=datetimepicker"},link:function(e,i,t,n){var a=e.options||{},r=a.format||"yyyy-mm-dd",o={},m={};m.year=r.indexOf("yyyy")>=0,m.month=r.indexOf("mm")>=0,m.day=r.indexOf("dd")>=0,m.hour=r.indexOf("hh")>=0,m.mintue=r.indexOf("ii")>=0,m.second=r.indexOf("ss")>=0,o=angular.extend({weekStart:1,todayBtn:!0,todayHighlight:!0,customIcon:!0,format:r,autoclose:1,forceParse:0,bootcssVer:2,language:"zh-CN",clearBtn:a.clearBtn!==!1},o);m.year&&(o.startView=4,o.minView=4,o.maxView=4,m.month&&(o.startView=3,o.minView=3,o.maxView=4,m.day&&(o.startView=2,o.minView=2,o.maxView=4,m.hour&&(o.startView=2,o.minView=1,o.maxView=4,m.mintue&&(o.startView=2,o.minView=0,o.maxView=4))))),i.datetimepicker(o).on("hide",function(){$(i).blur()});var d=e.$watch("options.limitStartTime",function(e,t){e===t&&"undefined"==typeof t||i.datetimepicker("setStartDate",e)}),c=e.$watch("options.limitEndTime",function(e,t){e===t&&"undefined"==typeof t||i.datetimepicker("setEndDate",e)});a.removeDatetimepicker=function(){i.datetimepicker("remove"),d(),c()}}}}]);